ä½ å¥½ï¼Œæˆ‘æ˜¯å°ç™½Codingæ—¥å¿—ï¼Œä¸€ä¸ªçƒ­çˆ±æŠ€æœ¯çš„ç¨‹åºå‘˜ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘åˆ†äº«è‡ªå·±åœ¨ç¼–ç¨‹å’ŒæŠ€æœ¯ä¸–ç•Œä¸­çš„å­¦ä¹ å¿ƒå¾—å’Œä½“ä¼šã€‚å¸Œæœ›æˆ‘çš„æ–‡ç« èƒ½å¤Ÿç»™ä½ å¸¦æ¥ä¸€äº›çµæ„Ÿå’Œå¸®åŠ©ã€‚æ¬¢è¿æ¥åˆ°æˆ‘çš„åšå®¢ï¼Œä¸€èµ·åœ¨æŠ€æœ¯çš„ä¸–ç•Œé‡Œæ¢ç´¢å‰è¡Œå§ï¼
åœ¨æ—¥å¸¸çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬æ—¶å¸¸ä¼šç¢°åˆ°éœ€è¦å°†å‰ç«¯é¡µé¢ä¸­ç²¾ç¾çš„è®¾è®¡æˆ–é‡è¦å†…å®¹ä¿å­˜ä¸ºå›¾ç‰‡çš„æƒ…å†µã€‚è¿™ç§éœ€æ±‚å¯èƒ½æ¥è‡ªäºç”¨æˆ·å¸Œæœ›å°†é¡µé¢å¿«ç…§åˆ†äº«ç»™ä»–äººï¼Œæˆ–è€…æ˜¯ä¸ºäº†å¤‡ä»½é‡è¦ä¿¡æ¯ä»¥ä¾›åç»­å‚è€ƒã€‚é¢å¯¹è¿™æ ·çš„éœ€æ±‚ï¼Œä¼ ç»Ÿçš„åšæ³•é€šå¸¸æ˜¯ä¾èµ–åç«¯æœåŠ¡å™¨ç”Ÿæˆå›¾ç‰‡ï¼Œå¹¶æä¾›ä¸‹è½½é“¾æ¥ã€‚ç„¶è€Œï¼Œéšç€å‰ç«¯æŠ€æœ¯çš„å‘å±•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡çº¯å‰ç«¯çš„æ–¹å¼å®ç°è¿™ä¸€åŠŸèƒ½ï¼Œè€Œæ— éœ€ä¾èµ–åç«¯çš„å¸®åŠ©ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨ Vue.js ä¸­çš„å¼ºå¤§åŠŸèƒ½ï¼Œå°†å‰ç«¯é¡µé¢ä¸Šçš„å…ƒç´ æ— ç¼å¯¼å‡ºä¸ºé«˜è´¨é‡çš„å›¾ç‰‡ï¼Œä¸ºæˆ‘ä»¬çš„å·¥ä½œå¸¦æ¥æ›´å¤§çš„çµæ´»æ€§å’Œæ•ˆç‡æå‡ã€‚
> æœ¬é¡¹ç›®åŸºäºVite+Vue3ï¼Œè¿™é‡Œå‡è®¾ä½ å·²ç»æ­å»ºå¥½é¡¹ç›®äº†ğŸ˜€

ä¸ºäº†å®ç°å°† DOM å¯¹è±¡å¯¼å‡ºä¸ºå›¾ç‰‡çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦ä¾èµ–ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„ npm åŒ…ï¼Œå®ƒå°±æ˜¯ html2canvasã€‚è¿™ä¸ªåŒ…æä¾›äº†ä¸€ä¸ªç®€å•è€Œå¼ºå¤§çš„æ–¹æ³•ï¼Œå¯ä»¥å°†ä»»ä½• DOM å…ƒç´ è½¬æ¢ä¸ºä½å›¾å›¾åƒï¼Œä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿåœ¨å‰ç«¯ç¯å¢ƒä¸­è½»æ¾åœ°ç”Ÿæˆå¹¶ä¸‹è½½ç½‘é¡µæˆªå›¾ï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´å¤šçµæ´»æ€§å’Œä¾¿åˆ©æ€§ã€‚
```javascript
npm i html2canvas
```
###### ä¸»è¦æ ¸å¿ƒä»£ç å®ç°ï¼š

1. é€šè¿‡æŒ‰é’®ç‚¹å‡»äº‹ä»¶`exportImg`è·å–åˆ°è¦å¯¼å‡ºçš„DOMå¯¹è±¡ï¼Œ
2. è°ƒç”¨`exportToImage`å‡½æ•°ä¼ å…¥å‚æ•°
```javascript
import html2canvas from 'html2canvas';
const exportImg = () =>{
  const dom = document.getElementById('exportContainer')
  exportToImage(dom, 'vue3+vite')
}
/**
 * @description å°†domå¯¹è±¡å¯¼å‡ºä¸ºå›¾ç‰‡
 * @param {Object} exportContent è¦å¯¼å‡ºçš„å†…å®¹
 * @param {String} title å¯¼å‡ºçš„å›¾ç‰‡åç§°
 */
 const exportToImage = (exportContent, title)=> {
  html2canvas(exportContent).then((canvas) => {
    const imageDataUrl = canvas.toDataURL('image/png');
    const downloadLink = document.createElement('a');
    downloadLink.href = imageDataUrl;
    downloadLink.download = `${title}.png`;
    downloadLink.click();
  });
}
```
![è¦å¯¼å‡ºçš„Domå¯¹è±¡](https://cdn.nlark.com/yuque/0/2024/png/36013995/1708438035540-593de0c6-1c8e-43df-8ebf-b9eb21c1a7ad.png#averageHue=%23fefefc&clientId=udccc962b-fd3e-4&from=paste&height=379&id=u26aeb84f&originHeight=379&originWidth=577&originalType=binary&ratio=1&rotation=0&showTitle=true&size=17374&status=done&style=none&taskId=u5e7e77f1-c8a4-4255-9a3f-c1a3d68d4f3&title=%E8%A6%81%E5%AF%BC%E5%87%BA%E7%9A%84Dom%E5%AF%B9%E8%B1%A1&width=577 "è¦å¯¼å‡ºçš„Domå¯¹è±¡")
###### å¯¼å‡ºçš„æ•ˆæœğŸ‘‡
![image.png](https://cdn.nlark.com/yuque/0/2024/png/36013995/1708438167445-86bc2065-700b-4831-82b6-63d158613c39.png#averageHue=%23353535&clientId=udccc962b-fd3e-4&from=paste&height=580&id=uad274d05&originHeight=580&originWidth=1106&originalType=binary&ratio=1&rotation=0&showTitle=false&size=16733&status=done&style=none&taskId=uff53bf3b-ae49-49a7-a381-7fd1b8c449e&title=&width=1106)
###### å…¨éƒ¨ä»£ç 
```vue
<script setup>
import html2canvas from 'html2canvas';
import HelloWorld from './components/HelloWorld.vue'
const exportImg = () =>{
  const dom = document.getElementById('exportContainer')
  exportToImage(dom, 'vue3+vite')
}
/**
 * @description å°†domå¯¹è±¡å¯¼å‡ºä¸ºå›¾ç‰‡
 * @param {Object} exportContent è¦å¯¼å‡ºçš„å†…å®¹
 * @param {String} title å¯¼å‡ºçš„å›¾ç‰‡åç§°
 */
 const exportToImage = (exportContent, title)=> {
  html2canvas(exportContent).then((canvas) => {
    const imageDataUrl = canvas.toDataURL('image/png');
    const downloadLink = document.createElement('a');
    downloadLink.href = imageDataUrl;
    downloadLink.download = `${title}.png`;
    downloadLink.click();
  });
}
</script>

<template>
  <div style="padding: 20px" id="exportContainer">
    <div>
    <a href="https://vitejs.dev" target="_blank">
      <img src="/vite.svg" class="logo" alt="Vite logo" />
    </a>
    <a href="https://vuejs.org/" target="_blank">
      <img src="./assets/vue.svg" class="logo vue" alt="Vue logo" />
    </a>
  </div>
  <HelloWorld msg="å°†htmlå¯¼å‡ºä¸ºå›¾ç‰‡" />
  </div>
  <div class="card">
    <button type="button" class="btn" @click="exportImg">å¯¼å‡ºä¸ºå›¾ç‰‡</button>
  </div>
</template>

<style scoped>
.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.vue:hover {
  filter: drop-shadow(0 0 2em #42b883aa);
}
.card .btn {
  background-color: #409eff;
  border-color: #409eff;
  color: #fff;
}
</style>
```
å³ä½¿ä»£ç é€»è¾‘å¾ˆç®€å•ï¼Œä¹Ÿå€¼å¾—è®°å½•ä¸‹æ¥ã€‚æˆ‘çš„ç¼–ç¨‹ç›®æ ‡æ˜¯é¿å…é‡å¤é€ è½®å­ï¼ğŸ˜Š
å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œå°±ç»™æˆ‘ç‚¹ä¸ªèµå§ğŸ˜
æ¢ç´¢æ›´å¤šæœ‰è¶£çŸ¥è¯†ï¼Œæ¬¢è¿å…³æ³¨æˆ‘çš„å¾®ä¿¡å…¬ä¼—å·ï¼æ¯å¤©åˆ†äº«ç²¾å½©å†…å®¹ï¼Œä¸ä½ ä¸€åŒæ¢å¯»çŸ¥è¯†çš„è¾¹ç•Œã€‚æ‰«ç å³å¯è®¢é˜…ï¼Œä¸€èµ·å¼€å¯çŸ¥è¯†æ–°æ—…ç¨‹ï¼ğŸš€ğŸ“š
![qrcode_for_gh_bd5bafbcdd40_258.jpg](https://cdn.nlark.com/yuque/0/2024/jpeg/36013995/1705556124681-b339e93e-c46c-41e7-9922-b49c58aeff21.jpeg#averageHue=%23a09f9f&clientId=u38add42d-4de3-4&from=ui&id=A3aMy&originHeight=258&originWidth=258&originalType=binary&ratio=1&rotation=0&showTitle=false&size=26790&status=done&style=none&taskId=u7f558f04-96e1-43f7-8d4c-70f1b40b037&title=)
å…³æ³¨æˆ‘çš„æŠ€æœ¯åšå®¢ï¼Œæ¢ç´¢å‰æ²¿ç§‘æŠ€ä¸å®ç”¨å¼€å‘æŠ€å·§ã€‚ä¸€èµ·æºæ‰‹èµ°å‘ä»£ç çš„ç²¾å½©ä¸–ç•Œï¼ğŸš€ğŸ’» ä¸é”™è¿‡æ¯ä¸€ç¯‡ç²¾å½©ï¼
> [https://www.xiaobaicoding.com](https://www.xiaobaicoding.com/)

